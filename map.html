<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Children's Hospitals Association</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/maps/modules/map.js"></script>
  <script src="https://code.highcharts.com/mapdata/custom/world.js"></script>
</head>
<body>
  <header>
    <!-- ... (header content here) ... -->
  </header>

  <main>
    <div class="middle-layout">
      <h1>Welcome to Children's Hospitals Association</h1>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed auctor nulla vel massa aliquam, in tincidunt libero dapibus. Nulla facilisi.</p>
      <div id="mapContainer" style="min-width: 400px; height: 600px;"></div>
    </div>
  </main>

  <footer>
    <!-- ... (footer content here) ... -->
  </footer>

  <script>
    function toggleMenu() {
      var menu = document.getElementById("menu");
      menu.classList.toggle("show");
    }
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        // Fetch the map data (Florida counties)
        const response = await fetch(
          'https://raw.githubusercontent.com/deldersveld/topojson/master/countries/us-states/FL-12-florida-counties.json'
        );

        if (!response.ok) {
          throw new Error('Failed to fetch map data');
        }

        const mapData = await response.json();

        // Replace this comment with the actual JSON data of the Medicaid regions
        const medicaidRegionsData = [
          // ... (paste the JSON data here)
        ];

        // Combine the map data and Medicaid regions data
        const combinedData = mapData.features.map(county => {
          const countyName = county.properties.name;
          const medicaidRegion = medicaidRegionsData.find(region => region.name === countyName);
          if (medicaidRegion) {
            return { ...county, region: medicaidRegion.region };
          }
          return county;
        });

        // Instantiate the map
        Highcharts.mapChart('mapContainer', {
          chart: {
            map: mapData
          },

          title: {
            text: 'Florida Medicaid Regions'
          },

          legend: {
            title: {
              text: 'Medicaid Region'
            }
          },

          colorAxis: {
            dataClasses: [
              // ... (color classes for Medicaid regions)
            ]
          },

          series: [{
            name: 'Counties',
            data: combinedData,
            mapData: mapData,
            joinBy: ['name', 'properties.name'],
            tooltip: {
              headerFormat: '',
              pointFormat: '<b>{point.properties.name}</b><br>Medicaid Region: {point.region}'
            }
          }]
        });

      } catch (error) {
        console.error('Error fetching map data:', error);
      }
    });
  </script>

</body>
</html>
