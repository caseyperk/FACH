<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Children's Hospitals Association</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/maps/modules/map.js"></script>
</head>
<body>
  <header>
    <!-- Your header content goes here -->
  </header>

  <main>
    <!-- Your main content goes here -->
    <div class="middle-layout">
      <h1>Welcome to Children's Hospitals Association</h1>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed auctor nulla vel massa aliquam, in tincidunt libero dapibus. Nulla facilisi.</p>
      <div id="mapContainer" style="min-width: 400px; height: 600px;"></div>
    </div>
  </main>

  <footer>
    <!-- Your footer content goes here -->
    &copy; 2023 Children's Hospitals Association
  </footer>

  <script>
    function toggleMenu() {
      var menu = document.getElementById("menu");
      menu.classList.toggle("show");
    }
  </script>

  <script>
    // Your JavaScript code for rendering the map goes here
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        // Fetch the map data (Florida counties) from the loaded JSON file
        const mapData = FLORIDA_COUNTIES; // This variable should be defined in Florida_counties.json

        // Fetch the Medicaid regions data
        const medicaidRegionsData = [
          // ... (paste the JSON data here)
        ];

        // Combine the map data and Medicaid regions data
        const combinedData = mapData.features.map(county => {
          const countyName = county.properties.NAME;
          const medicaidRegion = medicaidRegionsData.find(region => region.COUNTY === countyName);
          if (medicaidRegion) {
            return { ...county, region: medicaidRegion['MEDICAID REGION'] };
          }
          return county;
        });

        // Instantiate the map
        Highcharts.mapChart('mapContainer', {
          chart: {
            map: mapData
          },
          // Your other map settings go here...

          series: [{
            name: 'Counties',
            data: combinedData,
            mapData: mapData,
            joinBy: ['name', 'properties.NAME'],
            tooltip: {
              headerFormat: '',
              pointFormat: '<b>{point.properties.NAME}</b><br>Medicaid Region: {point.region}'
            }
          }]
        });

      } catch (error) {
        console.error('Error fetching map data:', error);
      }
    });
  </script>
</body>
</html>
